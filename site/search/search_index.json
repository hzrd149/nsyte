{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"nsyte Documentation","text":"<p>\u26a0\ufe0f nsyte is alpha. use at your own risk.</p> <p>nsyte is a command-line tool for publishing websites to nostr and Blossom servers. It enables decentralized, censorship-resistant website hosting.</p> <p></p>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Install\ndeno install -A -f -n nsyte https://github.com/sandwichfarm/nsyte/raw/main/src/cli.ts\n\n# Initialize project (interactive setup)\nnsyte init\n\n# Upload website\nnsyte upload ./dist\n</code></pre>"},{"location":"#documentation-sections","title":"Documentation Sections","text":"<ul> <li>Installation - How to install nsyte</li> <li>Basic Usage - Getting started with nsyte</li> <li>Command Reference - Detailed command documentation</li> <li>Configuration - Configuration options and settings</li> </ul>"},{"location":"#guides","title":"Guides","text":"<ul> <li>Local Development Setup - Setting up your development environment</li> <li>Deployment - Deploying your site</li> <li>CI/CD Integration - Setting up continuous deployment</li> <li>Security Best Practices - Security considerations and recommendations</li> </ul>"},{"location":"#about","title":"About","text":"<p>nsyte is a fork of nsite-cli by flox1an [npub]. This fork has been ported to deno and rewritten in the process. Some behaviors in this fork are slightly different. </p>"},{"location":"installation/","title":"Installation Guide","text":"<p>nsyte can be installed in several ways depending on your needs and platform. Choose the method that best suits your requirements.</p>"},{"location":"installation/#using-deno-recommended","title":"Using Deno (Recommended)","text":"<p>If you have Deno installed (version 2.0 or later), you can install nsyte using the following command:</p> <pre><code>deno install -A -f -n nsyte https://raw.githubusercontent.com/sandwichfarm/nsyte/main/src/cli.ts\n</code></pre> <p>This will: 1. Download the latest version of nsyte 2. Install it globally on your system 3. Make the <code>nsyte</code> command available in your terminal</p> <p>To verify the installation: <pre><code>nsyte --version\n</code></pre></p>"},{"location":"installation/#pre-built-binaries","title":"Pre-built Binaries","text":"<p>For users who prefer not to install Deno, pre-built binaries are available for:</p> <ul> <li>Linux (x86_64)</li> <li>macOS (x86_64)</li> <li>Windows (x86_64)</li> </ul> <p>Download the appropriate binary from the Releases page.</p>"},{"location":"installation/#linuxmacos-installation","title":"Linux/macOS Installation","text":"<pre><code># Download the binary\ncurl -L -o nsyte https://github.com/sandwichfarm/nsyte/releases/latest/download/nsyte-linux\n\n# Make it executable\nchmod +x nsyte\n\n# Move to a directory in your PATH\nsudo mv nsyte /usr/local/bin/\n</code></pre>"},{"location":"installation/#windows-installation","title":"Windows Installation","text":"<ol> <li>Download the <code>nsyte-windows.exe</code> file</li> <li>Rename it to <code>nsyte.exe</code></li> <li>Add the directory containing the executable to your system's PATH</li> </ol>"},{"location":"installation/#building-from-source","title":"Building from Source","text":"<p>If you need to build nsyte yourself (for example, for a different architecture), follow these steps:</p> <ol> <li> <p>Clone the repository: <pre><code>git clone https://github.com/sandwichfarm/nsyte.git\ncd nsyte\n</code></pre></p> </li> <li> <p>Build for your current platform: <pre><code>deno task compile\n</code></pre></p> </li> </ol> <p>Or build for all platforms: <pre><code>deno task compile:all\n</code></pre></p> <p>The compiled binaries will be available in the <code>dist</code> directory.</p>"},{"location":"installation/#requirements","title":"Requirements","text":"<ul> <li>For Deno installation: Deno 2.0 or later</li> <li>For pre-built binaries: No additional requirements</li> <li>For building from source: Deno 2.0 or later</li> </ul>"},{"location":"installation/#next-steps","title":"Next Steps","text":"<p>After installation, you can: 1. Initialize your first project 2. Configure your deployment settings 3. Start deploying your site </p>"},{"location":"guides/ci-cd/","title":"CI/CD Guide","text":"<p>This guide explains how to set up continuous integration and deployment (CI/CD) for your nsyte sites using popular CI/CD platforms.</p>"},{"location":"guides/ci-cd/#github-actions","title":"GitHub Actions","text":""},{"location":"guides/ci-cd/#basic-workflow","title":"Basic Workflow","text":"<p>Create <code>.github/workflows/deploy.yml</code>:</p> <pre><code>name: Deploy Site\n\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n\n      - name: Install Dependencies\n        run: npm ci\n\n      - name: Build Site\n        run: npm run build\n\n      - name: Install nsyte\n        run: npm install -g nsyte\n\n      - name: Deploy Site\n        if: github.ref == 'refs/heads/main'\n        env:\n          NSYTE_BUNKER_KEY: ${{ secrets.NSYTE_BUNKER_KEY }}\n        run: nsyte upload ./dist\n</code></pre>"},{"location":"guides/ci-cd/#advanced-workflow","title":"Advanced Workflow","text":"<p>For more complex sites, you might want to:</p> <ol> <li>Cache dependencies</li> <li>Run tests</li> <li>Build in stages</li> <li>Deploy to staging first</li> </ol> <pre><code>name: Deploy Site\n\non:\n  push:\n    branches: [ main, staging ]\n  pull_request:\n    branches: [ main, staging ]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n          cache: 'npm'\n\n      - name: Install Dependencies\n        run: npm ci\n\n      - name: Run Tests\n        run: npm test\n\n  build:\n    needs: test\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n          cache: 'npm'\n\n      - name: Install Dependencies\n        run: npm ci\n\n      - name: Build Site\n        run: npm run build\n\n      - name: Upload Build Artifact\n        uses: actions/upload-artifact@v4\n        with:\n          name: site\n          path: ./dist\n\n  deploy-staging:\n    needs: build\n    if: github.ref == 'refs/heads/staging'\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Download Build Artifact\n        uses: actions/download-artifact@v4\n        with:\n          name: site\n          path: ./dist\n\n      - name: Install nsyte\n        run: npm install -g nsyte\n\n      - name: Deploy to Staging\n        env:\n          NSYTE_BUNKER_KEY: ${{ secrets.NSYTE_BUNKER_STAGING_KEY }}\n          NSYTE_RELAYS: ${{ secrets.NSYTE_STAGING_RELAYS }}\n        run: nsyte upload ./dist\n\n  deploy-production:\n    needs: [build, deploy-staging]\n    if: github.ref == 'refs/heads/main'\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Download Build Artifact\n        uses: actions/download-artifact@v4\n        with:\n          name: site\n          path: ./dist\n\n      - name: Install nsyte\n        run: npm install -g nsyte\n\n      - name: Deploy to Production\n        env:\n          NSYTE_BUNKER_KEY: ${{ secrets.NSYTE_BUNKER_KEY }}\n          NSYTE_RELAYS: ${{ secrets.NSYTE_RELAYS }}\n        run: nsyte upload ./dist\n</code></pre>"},{"location":"guides/ci-cd/#gitlab-ci","title":"GitLab CI","text":""},{"location":"guides/ci-cd/#basic-pipeline","title":"Basic Pipeline","text":"<p>Create <code>.gitlab-ci.yml</code>:</p> <pre><code>image: node:20\n\nstages:\n  - test\n  - build\n  - deploy\n\ntest:\n  stage: test\n  script:\n    - npm ci\n    - npm test\n\nbuild:\n  stage: build\n  script:\n    - npm ci\n    - npm run build\n  artifacts:\n    paths:\n      - dist/\n\ndeploy:\n  stage: deploy\n  script:\n    - npm install -g nsyte\n    - nsyte upload ./dist\n  only:\n    - main\n  environment:\n    name: production\n</code></pre>"},{"location":"guides/ci-cd/#advanced-pipeline","title":"Advanced Pipeline","text":"<p>For more complex setups:</p> <pre><code>image: node:20\n\nstages:\n  - test\n  - build\n  - deploy-staging\n  - deploy-production\n\nvariables:\n  NPM_TOKEN: ${NPM_TOKEN}\n\ncache:\n  key: ${CI_COMMIT_REF_SLUG}\n  paths:\n    - node_modules/\n\ntest:\n  stage: test\n  script:\n    - npm ci\n    - npm test\n  coverage: '/All files[^|]*\\|[^|]*\\s+([\\d\\.]+)/'\n\nbuild:\n  stage: build\n  script:\n    - npm ci\n    - npm run build\n  artifacts:\n    paths:\n      - dist/\n    expire_in: 1 week\n\ndeploy-staging:\n  stage: deploy-staging\n  script:\n    - npm install -g nsyte\n    - nsyte upload ./dist\n  environment:\n    name: staging\n    url: https://staging.example.com\n  only:\n    - staging\n  when: manual\n\ndeploy-production:\n  stage: deploy-production\n  script:\n    - npm install -g nsyte\n    - nsyte upload ./dist\n  environment:\n    name: production\n    url: https://example.com\n  only:\n    - main\n  when: manual\n</code></pre>"},{"location":"guides/ci-cd/#best-practices","title":"Best Practices","text":""},{"location":"guides/ci-cd/#1-security","title":"1. Security","text":"<ul> <li>Store secrets in CI/CD platform</li> <li>Use environment-specific keys</li> <li>Rotate keys regularly</li> <li>Limit key permissions</li> </ul>"},{"location":"guides/ci-cd/#2-performance","title":"2. Performance","text":"<ul> <li>Cache dependencies</li> <li>Use build artifacts</li> <li>Optimize build steps</li> <li>Parallel jobs when possible</li> </ul>"},{"location":"guides/ci-cd/#3-reliability","title":"3. Reliability","text":"<ul> <li>Run tests before deploy</li> <li>Use staging environment</li> <li>Manual approval for production</li> <li>Monitor deployments</li> </ul>"},{"location":"guides/ci-cd/#4-maintenance","title":"4. Maintenance","text":"<ul> <li>Keep workflows updated</li> <li>Review dependencies</li> <li>Monitor build times</li> <li>Clean up old artifacts</li> </ul>"},{"location":"guides/ci-cd/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/ci-cd/#common-issues","title":"Common Issues","text":"<ol> <li>Build Failures</li> <li>Check Node.js version</li> <li>Verify dependencies</li> <li>Review build logs</li> <li> <p>Check file permissions</p> </li> <li> <p>Deployment Failures</p> </li> <li>Verify secrets</li> <li>Check relay status</li> <li>Review permissions</li> <li> <p>Check network access</p> </li> <li> <p>Cache Issues</p> </li> <li>Clear cache</li> <li>Update cache key</li> <li>Check cache size</li> <li>Verify paths</li> </ol>"},{"location":"guides/ci-cd/#getting-help","title":"Getting Help","text":"<ul> <li>Check the GitHub Issues</li> <li>Review the Deployment Guide</li> <li>Join the Nostr channel</li> </ul>"},{"location":"guides/ci-cd/#next-steps","title":"Next Steps","text":"<ul> <li>Review deployment strategies</li> <li>Learn about security best practices</li> <li>Set up monitoring and alerts </li> </ul>"},{"location":"guides/deployment/","title":"Deployment Guide","text":"<p>This guide covers different deployment strategies and best practices for deploying your site using nsyte.</p>"},{"location":"guides/deployment/#basic-deployment","title":"Basic Deployment","text":"<p>The simplest way to deploy your site is using the <code>upload</code> command:</p> <pre><code>nsyte upload ./dist\n</code></pre> <p>This will: 1. Upload your files to configured relays 2. Publish to configured blossom servers 3. Update your site's metadata</p>"},{"location":"guides/deployment/#deployment-strategies","title":"Deployment Strategies","text":""},{"location":"guides/deployment/#1-manual-deployment","title":"1. Manual Deployment","text":"<p>Suitable for: - Small sites - Infrequent updates - Personal projects</p> <p>Steps: 1. Build your site 2. Run <code>nsyte upload</code> 3. Verify the deployment</p>"},{"location":"guides/deployment/#2-automated-deployment","title":"2. Automated Deployment","text":"<p>Suitable for: - Team projects - Frequent updates - Production sites</p> <p>Options: - GitHub Actions - GitLab CI - Custom scripts</p> <p>See CI/CD Guide for detailed setup instructions.</p>"},{"location":"guides/deployment/#3-staged-deployment","title":"3. Staged Deployment","text":"<p>Suitable for: - Large sites - Critical applications - Testing environments</p> <p>Steps: 1. Deploy to staging relays 2. Test the deployment 3. Deploy to production</p>"},{"location":"guides/deployment/#deployment-options","title":"Deployment Options","text":""},{"location":"guides/deployment/#basic-upload","title":"Basic Upload","text":"<pre><code>nsyte upload ./dist\n</code></pre>"},{"location":"guides/deployment/#force-re-upload","title":"Force Re-upload","text":"<pre><code>nsyte upload ./dist --force\n</code></pre>"},{"location":"guides/deployment/#purge-deleted-files","title":"Purge Deleted Files","text":"<pre><code>nsyte upload ./dist --purge\n</code></pre>"},{"location":"guides/deployment/#set-concurrency","title":"Set Concurrency","text":"<pre><code>nsyte upload ./dist --concurrency 8\n</code></pre>"},{"location":"guides/deployment/#spa-support","title":"SPA Support","text":"<pre><code>nsyte upload ./dist --fallback=/index.html\n</code></pre>"},{"location":"guides/deployment/#deployment-checklist","title":"Deployment Checklist","text":"<p>Before deploying:</p> <ol> <li>Configuration</li> <li>[ ] Verify relay configuration</li> <li>[ ] Check server settings</li> <li> <p>[ ] Review ignore patterns</p> </li> <li> <p>Authentication</p> </li> <li>[ ] Ensure proper authentication</li> <li>[ ] Verify bunker connection</li> <li> <p>[ ] Check key permissions</p> </li> <li> <p>Content</p> </li> <li>[ ] Build site</li> <li>[ ] Test locally</li> <li>[ ] Check file sizes</li> <li> <p>[ ] Verify links</p> </li> <li> <p>Deployment</p> </li> <li>[ ] Backup current site</li> <li>[ ] Run upload</li> <li>[ ] Verify deployment</li> <li>[ ] Check site metadata</li> </ol>"},{"location":"guides/deployment/#best-practices","title":"Best Practices","text":""},{"location":"guides/deployment/#1-performance","title":"1. Performance","text":"<ul> <li>Optimize images and assets</li> <li>Use appropriate file formats</li> <li>Enable compression</li> <li>Implement caching</li> </ul>"},{"location":"guides/deployment/#2-reliability","title":"2. Reliability","text":"<ul> <li>Use multiple relays</li> <li>Configure fallback servers</li> <li>Monitor deployment status</li> <li>Keep backups</li> </ul>"},{"location":"guides/deployment/#3-security","title":"3. Security","text":"<ul> <li>Use secure authentication</li> <li>Protect sensitive data</li> <li>Regular key rotation</li> <li>Monitor access</li> </ul>"},{"location":"guides/deployment/#4-maintenance","title":"4. Maintenance","text":"<ul> <li>Regular updates</li> <li>Monitor site health</li> <li>Clean up old files</li> <li>Update dependencies</li> </ul>"},{"location":"guides/deployment/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/deployment/#common-issues","title":"Common Issues","text":"<ol> <li>Upload Failures</li> <li>Check network connectivity</li> <li>Verify relay status</li> <li>Review file permissions</li> <li> <p>Check authentication</p> </li> <li> <p>Missing Files</p> </li> <li>Review ignore patterns</li> <li>Check file paths</li> <li>Verify build output</li> <li> <p>Check file permissions</p> </li> <li> <p>Authentication Errors</p> </li> <li>Verify keys</li> <li>Check bunker connection</li> <li>Review permissions</li> <li>Check configuration</li> </ol>"},{"location":"guides/deployment/#getting-help","title":"Getting Help","text":"<ul> <li>Check the GitHub Issues</li> <li>Review the Security Guide</li> <li>Join the Nostr channel</li> </ul>"},{"location":"guides/deployment/#next-steps","title":"Next Steps","text":"<ul> <li>Set up CI/CD integration</li> <li>Review security best practices</li> <li>Learn about local development </li> </ul>"},{"location":"guides/local-setup/","title":"Local Development Setup","text":"<p>This guide will help you set up nsyte for local development and testing. We'll cover setting up a development environment, configuring local relays, and testing your setup.</p>"},{"location":"guides/local-setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Deno 2.0 or later</li> <li>A code editor (VS Code recommended)</li> <li>Git</li> </ul>"},{"location":"guides/local-setup/#development-environment-setup","title":"Development Environment Setup","text":"<ol> <li> <p>Clone the repository: <pre><code>git clone https://github.com/sandwichfarm/nsyte.git\ncd nsyte\n</code></pre></p> </li> <li> <p>Install development dependencies: <pre><code>deno task dev\n</code></pre></p> </li> </ol> <p>This will: - Install the development version of nsyte - Set up the necessary permissions - Make the <code>nsyte</code> command available in your terminal</p>"},{"location":"guides/local-setup/#local-relay-setup","title":"Local Relay Setup","text":"<p>For local development, you'll want to set up a local relay. This allows you to test your setup without publishing to public relays.</p>"},{"location":"guides/local-setup/#using-nostr-rs-relay","title":"Using nostr-rs-relay","text":"<p>nostr-rs-relay is a good choice for local development.</p> <ol> <li> <p>Install using Docker: <pre><code>docker run -d -p 8080:8080 scsibug/nostr-rs-relay:latest\n</code></pre></p> </li> <li> <p>Or build from source: <pre><code>git clone https://github.com/scsibug/nostr-rs-relay.git\ncd nostr-rs-relay\ncargo build --release\n./target/release/nostr-rs-relay\n</code></pre></p> </li> </ol> <p>Your local relay will be available at <code>ws://localhost:8080</code>.</p>"},{"location":"guides/local-setup/#testing-your-setup","title":"Testing Your Setup","text":"<ol> <li>Initialize a test project: <pre><code>mkdir test-site\ncd test-site\nnsyte init\n</code></pre></li> </ol> <p>When prompted: - Choose \"Generated Private Key\" for testing - Add <code>ws://localhost:8080</code> as your relay - Skip server configuration for now</p> <ol> <li> <p>Create a test site: <pre><code>echo \"&lt;html&gt;&lt;body&gt;&lt;h1&gt;Test Site&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;\" &gt; index.html\n</code></pre></p> </li> <li> <p>Upload to your local relay: <pre><code>nsyte upload .\n</code></pre></p> </li> <li> <p>Verify the upload: <pre><code>nsyte ls\n</code></pre></p> </li> </ol>"},{"location":"guides/local-setup/#development-workflow","title":"Development Workflow","text":""},{"location":"guides/local-setup/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\ndeno task test\n\n# Run tests with coverage\ndeno task coverage\n</code></pre>"},{"location":"guides/local-setup/#building","title":"Building","text":"<pre><code># Build for current platform\ndeno task compile\n\n# Build for all platforms\ndeno task compile:all\n</code></pre>"},{"location":"guides/local-setup/#debugging","title":"Debugging","text":"<p>For debugging, you can use the <code>--verbose</code> flag with any command:</p> <pre><code>nsyte upload . --verbose\n</code></pre>"},{"location":"guides/local-setup/#common-development-tasks","title":"Common Development Tasks","text":""},{"location":"guides/local-setup/#adding-new-commands","title":"Adding New Commands","text":"<ol> <li>Create a new command file in <code>src/commands/</code></li> <li>Add the command to <code>src/cli.ts</code></li> <li>Add tests in <code>tests/commands/</code></li> <li>Update documentation</li> </ol>"},{"location":"guides/local-setup/#modifying-configuration","title":"Modifying Configuration","text":"<p>The configuration schema is defined in <code>src/config.ts</code>. When modifying:</p> <ol> <li>Update the schema</li> <li>Add migration code if needed</li> <li>Update documentation</li> <li>Add tests</li> </ol>"},{"location":"guides/local-setup/#testing-bunker-integration","title":"Testing Bunker Integration","text":"<p>For testing bunker integration:</p> <ol> <li>Set up a test bunker (e.g., using nostr-bunker)</li> <li>Connect using the test bunker's URL</li> <li>Test bunker commands</li> <li>Verify authentication</li> </ol>"},{"location":"guides/local-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/local-setup/#common-issues","title":"Common Issues","text":"<ol> <li>Permission Denied</li> <li>Check Deno permissions</li> <li>Verify file permissions</li> <li> <p>Check relay access</p> </li> <li> <p>Connection Issues</p> </li> <li>Verify relay is running</li> <li>Check network connectivity</li> <li> <p>Verify relay URL format</p> </li> <li> <p>Authentication Errors</p> </li> <li>Check key format</li> <li>Verify bunker connection</li> <li>Check configuration</li> </ol>"},{"location":"guides/local-setup/#getting-help","title":"Getting Help","text":"<ul> <li>Check the GitHub Issues</li> <li>Join the Nostr channel</li> <li>Review the Security Guide</li> </ul>"},{"location":"guides/local-setup/#next-steps","title":"Next Steps","text":"<ul> <li>Set up CI/CD integration</li> <li>Learn about deployment options</li> <li>Review security best practices </li> </ul>"},{"location":"guides/monitoring/","title":"Monitoring Guide","text":"<p>This guide covers how to monitor your nsyte sites and set up effective alerting.</p>"},{"location":"guides/monitoring/#monitoring-overview","title":"Monitoring Overview","text":""},{"location":"guides/monitoring/#what-to-monitor","title":"What to Monitor","text":"<ol> <li>Site Health</li> <li>Site availability</li> <li>Response times</li> <li>Error rates</li> <li> <p>Resource usage</p> </li> <li> <p>Relay Performance</p> </li> <li>Connection status</li> <li>Message latency</li> <li>Error rates</li> <li> <p>Queue lengths</p> </li> <li> <p>Authentication</p> </li> <li>Login attempts</li> <li>Key usage</li> <li>Permission changes</li> <li> <p>Session activity</p> </li> <li> <p>Content Delivery</p> </li> <li>File access patterns</li> <li>Cache hit rates</li> <li>Bandwidth usage</li> <li>Storage metrics</li> </ol>"},{"location":"guides/monitoring/#setting-up-monitoring","title":"Setting Up Monitoring","text":""},{"location":"guides/monitoring/#basic-monitoring","title":"Basic Monitoring","text":"<ol> <li> <p>Health Checks <pre><code># Check site health\nnsyte health check\n\n# Monitor relay status\nnsyte relay status\n\n# View site metrics\nnsyte metrics show\n</code></pre></p> </li> <li> <p>Logging <pre><code># View access logs\nnsyte logs access\n\n# View error logs\nnsyte logs error\n\n# View audit logs\nnsyte logs audit\n</code></pre></p> </li> </ol>"},{"location":"guides/monitoring/#advanced-monitoring","title":"Advanced Monitoring","text":"<ol> <li> <p>Custom Metrics <pre><code>monitoring:\n  metrics:\n    - name: site_uptime\n      type: gauge\n      description: \"Site uptime percentage\"\n\n    - name: relay_latency\n      type: histogram\n      description: \"Relay message latency\"\n\n    - name: auth_attempts\n      type: counter\n      description: \"Authentication attempts\"\n</code></pre></p> </li> <li> <p>Log Aggregation <pre><code>logging:\n  aggregator:\n    type: elasticsearch\n    url: https://logs.example.com\n    index: nsyte-logs\n\n  retention:\n    access: 30d\n    error: 90d\n    audit: 365d\n</code></pre></p> </li> </ol>"},{"location":"guides/monitoring/#alerting","title":"Alerting","text":""},{"location":"guides/monitoring/#alert-configuration","title":"Alert Configuration","text":"<ol> <li> <p>Basic Alerts <pre><code>alerts:\n  - name: site_down\n    condition: uptime &lt; 99.9\n    period: 5m\n    severity: critical\n\n  - name: high_latency\n    condition: relay_latency &gt; 1000\n    period: 1m\n    severity: warning\n\n  - name: auth_failures\n    condition: auth_failures &gt; 5\n    period: 5m\n    severity: warning\n</code></pre></p> </li> <li> <p>Advanced Alerts <pre><code>alerts:\n  - name: site_degradation\n    condition: |\n      rate(errors_total[5m]) / rate(requests_total[5m]) &gt; 0.01\n    period: 5m\n    severity: warning\n    annotations:\n      summary: \"High error rate detected\"\n      description: \"Error rate is above 1% for the last 5 minutes\"\n\n  - name: relay_issues\n    condition: |\n      max(relay_status) == 0\n    period: 1m\n    severity: critical\n    annotations:\n      summary: \"Relay connection lost\"\n      description: \"Primary relay is not responding\"\n</code></pre></p> </li> </ol>"},{"location":"guides/monitoring/#notification-channels","title":"Notification Channels","text":"<ol> <li> <p>Email <pre><code>notifications:\n  email:\n    smtp:\n      host: smtp.example.com\n      port: 587\n      username: alerts@example.com\n      password: ${SMTP_PASSWORD}\n    recipients:\n      - ops@example.com\n      - oncall@example.com\n</code></pre></p> </li> <li> <p>Slack <pre><code>notifications:\n  slack:\n    webhook: ${SLACK_WEBHOOK}\n    channel: \"#nsyte-alerts\"\n    username: \"nsyte-monitor\"\n</code></pre></p> </li> <li> <p>Nostr <pre><code>notifications:\n  nostr:\n    relay: wss://relay.example.com\n    pubkey: ${NOSTR_PUBKEY}\n    kind: 1\n</code></pre></p> </li> </ol>"},{"location":"guides/monitoring/#dashboards","title":"Dashboards","text":""},{"location":"guides/monitoring/#basic-dashboard","title":"Basic Dashboard","text":"<ol> <li>Site Overview</li> <li>Uptime</li> <li>Response times</li> <li>Error rates</li> <li> <p>Active users</p> </li> <li> <p>Relay Status</p> </li> <li>Connection health</li> <li>Message rates</li> <li>Latency</li> <li> <p>Queue status</p> </li> <li> <p>Authentication</p> </li> <li>Login attempts</li> <li>Success rate</li> <li>Key usage</li> <li>Session stats</li> </ol>"},{"location":"guides/monitoring/#advanced-dashboard","title":"Advanced Dashboard","text":"<ol> <li> <p>Performance <pre><code>dashboards:\n  performance:\n    panels:\n      - title: \"Response Time Distribution\"\n        type: histogram\n        query: rate(response_time_bucket[5m])\n\n      - title: \"Error Rate Trend\"\n        type: graph\n        query: rate(errors_total[5m]) / rate(requests_total[5m])\n\n      - title: \"Cache Hit Ratio\"\n        type: gauge\n        query: rate(cache_hits_total[5m]) / rate(cache_requests_total[5m])\n</code></pre></p> </li> <li> <p>Security <pre><code>dashboards:\n  security:\n    panels:\n      - title: \"Authentication Attempts\"\n        type: graph\n        query: rate(auth_attempts_total[5m])\n\n      - title: \"Failed Logins\"\n        type: graph\n        query: rate(auth_failures_total[5m])\n\n      - title: \"Active Sessions\"\n        type: gauge\n        query: active_sessions\n</code></pre></p> </li> </ol>"},{"location":"guides/monitoring/#best-practices","title":"Best Practices","text":""},{"location":"guides/monitoring/#monitoring","title":"Monitoring","text":"<ol> <li>Coverage</li> <li>Monitor all critical paths</li> <li>Include business metrics</li> <li>Track user experience</li> <li> <p>Monitor dependencies</p> </li> <li> <p>Performance</p> </li> <li>Use efficient queries</li> <li>Aggregate when possible</li> <li>Set appropriate intervals</li> <li> <p>Optimize storage</p> </li> <li> <p>Reliability</p> </li> <li>Redundant monitoring</li> <li>Failover systems</li> <li>Data backup</li> <li>Regular testing</li> </ol>"},{"location":"guides/monitoring/#alerting_1","title":"Alerting","text":"<ol> <li>Alert Design</li> <li>Clear conditions</li> <li>Meaningful thresholds</li> <li>Actionable alerts</li> <li> <p>Proper severity</p> </li> <li> <p>Noise Reduction</p> </li> <li>Group related alerts</li> <li>Use time windows</li> <li>Implement hysteresis</li> <li> <p>Filter false positives</p> </li> <li> <p>Response</p> </li> <li>Clear procedures</li> <li>Escalation paths</li> <li>Runbook integration</li> <li>Regular review</li> </ol>"},{"location":"guides/monitoring/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/monitoring/#common-issues","title":"Common Issues","text":"<ol> <li>High Alert Volume</li> <li>Review thresholds</li> <li>Adjust time windows</li> <li>Group related alerts</li> <li> <p>Filter noise</p> </li> <li> <p>Missing Data</p> </li> <li>Check collectors</li> <li>Verify connectivity</li> <li>Review retention</li> <li> <p>Check permissions</p> </li> <li> <p>False Positives</p> </li> <li>Adjust conditions</li> <li>Add context</li> <li>Review patterns</li> <li>Update thresholds</li> </ol>"},{"location":"guides/monitoring/#getting-help","title":"Getting Help","text":"<ul> <li>Check the GitHub Issues</li> <li>Review the Security Guide</li> <li>Join the Nostr channel</li> <li>Contact support</li> </ul>"},{"location":"guides/monitoring/#next-steps","title":"Next Steps","text":"<ul> <li>Set up incident response</li> <li>Review security monitoring</li> <li>Learn about deployment monitoring</li> <li>Implement custom metrics </li> </ul>"},{"location":"guides/security/","title":"Security Guide","text":"<p>This guide covers security best practices for deploying and managing nsyte sites.</p>"},{"location":"guides/security/#authentication","title":"Authentication","text":""},{"location":"guides/security/#bunker-keys","title":"Bunker Keys","text":"<p>Your bunker key is the primary authentication method for nsyte. Keep it secure:</p> <ol> <li>Storage</li> <li>Never commit keys to version control</li> <li>Use environment variables</li> <li>Store in secure secret management</li> <li> <p>Rotate keys regularly</p> </li> <li> <p>Permissions</p> </li> <li>Use minimal required permissions</li> <li>Create separate keys for different environments</li> <li>Revoke unused keys</li> <li> <p>Monitor key usage</p> </li> <li> <p>Rotation</p> </li> <li>Rotate keys every 90 days</li> <li>Use key versioning</li> <li>Update all environments</li> <li>Keep old keys for rollback</li> </ol>"},{"location":"guides/security/#environment-variables","title":"Environment Variables","text":"<pre><code># Good\nexport NSYTE_BUNKER_KEY=\"nsec1...\"\n\n# Bad\nNSYTE_BUNKER_KEY=\"nsec1...\" # In .env file\n</code></pre>"},{"location":"guides/security/#relay-security","title":"Relay Security","text":""},{"location":"guides/security/#relay-selection","title":"Relay Selection","text":"<ol> <li>Criteria</li> <li>Reputation</li> <li>Uptime</li> <li>Performance</li> <li>Location</li> <li> <p>Privacy policy</p> </li> <li> <p>Configuration</p> </li> <li>Use multiple relays</li> <li>Geographic distribution</li> <li>Fallback options</li> <li> <p>Regular health checks</p> </li> <li> <p>Monitoring</p> </li> <li>Relay status</li> <li>Response times</li> <li>Error rates</li> <li>Connection quality</li> </ol>"},{"location":"guides/security/#relay-management","title":"Relay Management","text":"<pre><code>{\n  \"relays\": [\n    {\n      \"url\": \"wss://relay1.example.com\",\n      \"weight\": 1,\n      \"fallback\": true\n    },\n    {\n      \"url\": \"wss://relay2.example.com\",\n      \"weight\": 2,\n      \"fallback\": false\n    }\n  ]\n}\n</code></pre>"},{"location":"guides/security/#content-security","title":"Content Security","text":""},{"location":"guides/security/#file-security","title":"File Security","text":"<ol> <li>Uploads</li> <li>Validate file types</li> <li>Check file sizes</li> <li>Scan for malware</li> <li> <p>Use content hashing</p> </li> <li> <p>Access Control</p> </li> <li>Set proper permissions</li> <li>Use private relays</li> <li>Implement rate limiting</li> <li> <p>Monitor access patterns</p> </li> <li> <p>Content Types</p> </li> <li>Allow only necessary types</li> <li>Validate MIME types</li> <li>Check file signatures</li> <li>Sanitize filenames</li> </ol>"},{"location":"guides/security/#example-configuration","title":"Example Configuration","text":"<pre><code>{\n  \"security\": {\n    \"maxFileSize\": 10485760,\n    \"allowedTypes\": [\n      \"text/html\",\n      \"text/css\",\n      \"application/javascript\",\n      \"image/png\",\n      \"image/jpeg\"\n    ],\n    \"rateLimit\": {\n      \"requests\": 100,\n      \"period\": 3600\n    }\n  }\n}\n</code></pre>"},{"location":"guides/security/#deployment-security","title":"Deployment Security","text":""},{"location":"guides/security/#cicd-security","title":"CI/CD Security","text":"<ol> <li>Secrets Management</li> <li>Use platform secrets</li> <li>Encrypt sensitive data</li> <li>Rotate credentials</li> <li> <p>Audit access</p> </li> <li> <p>Build Security</p> </li> <li>Lock dependencies</li> <li>Scan for vulnerabilities</li> <li>Sign artifacts</li> <li> <p>Verify integrity</p> </li> <li> <p>Deployment Process</p> </li> <li>Require approvals</li> <li>Use staging</li> <li>Rollback capability</li> <li>Audit logs</li> </ol>"},{"location":"guides/security/#example-github-actions","title":"Example GitHub Actions","text":"<pre><code>name: Secure Deploy\n\non:\n  push:\n    branches: [ main ]\n\njobs:\n  security:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Security scan\n        uses: snyk/actions/node@master\n        env:\n          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}\n\n      - name: Build\n        run: npm run build\n\n      - name: Deploy\n        if: success()\n        env:\n          NSYTE_BUNKER_KEY: ${{ secrets.NSYTE_BUNKER_KEY }}\n        run: nsyte upload ./dist\n</code></pre>"},{"location":"guides/security/#monitoring-and-alerts","title":"Monitoring and Alerts","text":""},{"location":"guides/security/#security-monitoring","title":"Security Monitoring","text":"<ol> <li>What to Monitor</li> <li>Authentication attempts</li> <li>File access patterns</li> <li>Relay performance</li> <li>Error rates</li> <li> <p>Resource usage</p> </li> <li> <p>Alerting</p> </li> <li>Failed authentications</li> <li>Unusual access</li> <li>Relay issues</li> <li>Rate limit breaches</li> <li> <p>System errors</p> </li> <li> <p>Logging</p> </li> <li>Access logs</li> <li>Error logs</li> <li>Audit trails</li> <li>Performance metrics</li> <li>Security events</li> </ol>"},{"location":"guides/security/#example-monitoring-setup","title":"Example Monitoring Setup","text":"<pre><code>monitoring:\n  alerts:\n    - name: auth_failures\n      condition: auth_failures &gt; 5\n      period: 300\n      action: notify_security\n\n    - name: relay_errors\n      condition: relay_errors &gt; 10\n      period: 600\n      action: notify_ops\n\n    - name: rate_limit\n      condition: rate_limit_breaches &gt; 0\n      period: 60\n      action: notify_ops\n</code></pre>"},{"location":"guides/security/#incident-response","title":"Incident Response","text":""},{"location":"guides/security/#preparation","title":"Preparation","text":"<ol> <li>Documentation</li> <li>Incident response plan</li> <li>Contact information</li> <li>Recovery procedures</li> <li> <p>Communication templates</p> </li> <li> <p>Tools</p> </li> <li>Monitoring systems</li> <li>Logging tools</li> <li>Communication channels</li> <li> <p>Backup systems</p> </li> <li> <p>Team</p> </li> <li>Assign roles</li> <li>Define responsibilities</li> <li>Regular training</li> <li>Practice drills</li> </ol>"},{"location":"guides/security/#response-steps","title":"Response Steps","text":"<ol> <li>Detection</li> <li>Monitor alerts</li> <li>Review logs</li> <li>Verify incidents</li> <li> <p>Assess impact</p> </li> <li> <p>Containment</p> </li> <li>Isolate affected systems</li> <li>Block malicious access</li> <li>Preserve evidence</li> <li> <p>Document actions</p> </li> <li> <p>Recovery</p> </li> <li>Restore from backup</li> <li>Verify integrity</li> <li>Update security</li> <li> <p>Monitor for recurrence</p> </li> <li> <p>Post-Incident</p> </li> <li>Document incident</li> <li>Analyze root cause</li> <li>Update procedures</li> <li>Team review</li> </ol>"},{"location":"guides/security/#best-practices","title":"Best Practices","text":""},{"location":"guides/security/#general-security","title":"General Security","text":"<ol> <li>Regular Updates</li> <li>Keep nsyte updated</li> <li>Update dependencies</li> <li>Patch vulnerabilities</li> <li> <p>Review configurations</p> </li> <li> <p>Access Control</p> </li> <li>Principle of least privilege</li> <li>Regular access review</li> <li>Strong authentication</li> <li> <p>Session management</p> </li> <li> <p>Data Protection</p> </li> <li>Encrypt sensitive data</li> <li>Secure backups</li> <li>Data retention</li> <li>Privacy compliance</li> </ol>"},{"location":"guides/security/#development-security","title":"Development Security","text":"<ol> <li>Code Security</li> <li>Code review</li> <li>Security testing</li> <li>Dependency scanning</li> <li> <p>Secure coding practices</p> </li> <li> <p>Environment Security</p> </li> <li>Secure development</li> <li>Staging security</li> <li>Production hardening</li> <li> <p>Regular audits</p> </li> <li> <p>Deployment Security</p> </li> <li>Secure pipelines</li> <li>Artifact signing</li> <li>Environment isolation</li> <li>Access control</li> </ol>"},{"location":"guides/security/#getting-help","title":"Getting Help","text":"<ul> <li>Check the GitHub Issues</li> <li>Review the Deployment Guide</li> <li>Join the Nostr channel</li> <li>Contact security team</li> </ul>"},{"location":"guides/security/#next-steps","title":"Next Steps","text":"<ul> <li>Set up monitoring and alerts</li> <li>Review deployment security</li> <li>Learn about CI/CD security</li> <li>Implement incident response </li> </ul>"},{"location":"usage/","title":"Basic Usage","text":"<p>This guide covers the most common workflows and commands you'll use with nsyte. For a complete reference of all commands, see the Command Reference.</p>"},{"location":"usage/#initializing-a-project","title":"Initializing a Project","text":"<p>The first step in using nsyte is to initialize your project. This creates the necessary configuration files and sets up your authentication.</p> <pre><code>nsyte init\n</code></pre> <p>This interactive command will: 1. Ask for your authentication method (private key or bunker) 2. Configure your relays and servers 3. Create a <code>.nsite</code> directory with your configuration</p> <p></p>"},{"location":"usage/#uploading-your-site","title":"Uploading Your Site","text":"<p>The most common command you'll use is <code>upload</code>. This command publishes your website files to the configured relays and servers.</p> <pre><code># Basic upload\nnsyte upload ./dist\n\n# Upload with options\nnsyte upload ./dist --force --concurrency 8 --verbose\n</code></pre> <p>Common options: - <code>--force</code>: Re-upload all files, even if they haven't changed - <code>--purge</code>: Delete files that no longer exist locally - <code>--verbose</code>: Show detailed progress - <code>--concurrency</code>: Number of parallel uploads (default: 4) - <code>--fallback</code>: HTML file to use as 404.html (for SPAs)</p>"},{"location":"usage/#managing-files","title":"Managing Files","text":""},{"location":"usage/#listing-published-files","title":"Listing Published Files","text":"<p>To see what files are currently published:</p> <pre><code>nsyte ls\n</code></pre> <p>This will show: - File paths - Upload dates - File sizes - Status (if available)</p>"},{"location":"usage/#downloading-files","title":"Downloading Files","text":"<p>To download your published files:</p> <pre><code>nsyte download ./backup\n</code></pre> <p>This is useful for: - Creating backups - Migrating to a different setup - Verifying published content</p>"},{"location":"usage/#authentication-methods","title":"Authentication Methods","text":"<p>nsyte supports three authentication methods:</p>"},{"location":"usage/#1-generated-private-key","title":"1. Generated Private Key","text":"<p>The simplest method - nsyte will generate a new nostr key pair for you.</p>"},{"location":"usage/#2-existing-private-key","title":"2. Existing Private Key","text":"<p>Use your own nostr private key.</p>"},{"location":"usage/#3-nostr-bunker-nip-46","title":"3. nostr Bunker (NIP-46)","text":"<p>The most secure method - keeps your keys on a separate device.</p> <pre><code># Connect to a bunker\nnsyte bunker connect 'bunker://pubkey?relay=wss://relay.example&amp;secret=xxx'\n\n# List connected bunkers\nnsyte bunker list\n</code></pre>"},{"location":"usage/#common-workflows","title":"Common Workflows","text":""},{"location":"usage/#deploying-a-static-site","title":"Deploying a Static Site","text":"<ol> <li> <p>Build your site: <pre><code>npm run build  # or your build command\n</code></pre></p> </li> <li> <p>Upload the built files: <pre><code>nsyte upload ./dist\n</code></pre></p> </li> </ol>"},{"location":"usage/#deploying-a-single-page-application-spa","title":"Deploying a Single Page Application (SPA)","text":"<p>For SPAs with client-side routing:</p> <pre><code>nsyte upload ./dist --fallback=/index.html\n</code></pre>"},{"location":"usage/#updating-your-site","title":"Updating Your Site","text":"<ol> <li>Make your changes</li> <li>Build your site</li> <li>Upload the changes: <pre><code>nsyte upload ./dist\n</code></pre></li> </ol>"},{"location":"usage/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about configuration options</li> <li>Set up CI/CD integration</li> <li>Read about security best practices </li> </ul>"},{"location":"usage/commands/","title":"Command Reference","text":"<p>This document provides a complete reference of all nsyte commands and their options.</p>"},{"location":"usage/commands/#core-commands","title":"Core Commands","text":""},{"location":"usage/commands/#nsyte","title":"<code>nsyte</code>","text":"<p>Run the interactive setup wizard. This is the same as <code>nsyte init</code>.</p> <pre><code>nsyte\n</code></pre>"},{"location":"usage/commands/#nsyte-init","title":"<code>nsyte init</code>","text":"<p>Initialize a new nsyte project. This creates the necessary configuration files and sets up authentication.</p> <pre><code>nsyte init\n</code></pre> <p>The command will interactively: 1. Ask for authentication method 2. Configure relays and servers 3. Create <code>.nsite</code> directory with configuration</p>"},{"location":"usage/commands/#nsyte-upload-dir","title":"<code>nsyte upload &lt;dir&gt;</code>","text":"<p>Upload files from the specified directory to nostr relays and blossom servers.</p> <pre><code>nsyte upload ./dist [options]\n</code></pre> <p>Options: - <code>--force</code>: Force re-upload of all files - <code>--purge</code>: Delete files that no longer exist locally - <code>--verbose</code>: Show detailed progress - <code>--concurrency &lt;n&gt;</code>: Number of parallel uploads (default: 4) - <code>--fallback &lt;file&gt;</code>: HTML file to use as 404.html - <code>--nbunksec &lt;string&gt;</code>: nbunksec string for authentication</p>"},{"location":"usage/commands/#nsyte-ls","title":"<code>nsyte ls</code>","text":"<p>List all published files.</p> <pre><code>nsyte ls [options]\n</code></pre> <p>Options: - <code>--verbose</code>: Show detailed file information - <code>--format &lt;format&gt;</code>: Output format (json, table)</p>"},{"location":"usage/commands/#nsyte-download-dir","title":"<code>nsyte download &lt;dir&gt;</code>","text":"<p>Download published files to the specified directory.</p> <pre><code>nsyte download ./backup [options]\n</code></pre> <p>Options: - <code>--force</code>: Overwrite existing files - <code>--verbose</code>: Show detailed progress</p>"},{"location":"usage/commands/#bunker-commands","title":"Bunker Commands","text":""},{"location":"usage/commands/#nsyte-bunker-connect","title":"<code>nsyte bunker connect</code>","text":"<p>Connect to a nostr bunker (NIP-46).</p> <pre><code># Using bunker URL\nnsyte bunker connect 'bunker://pubkey?relay=wss://relay.example&amp;secret=xxx'\n\n# Using individual parameters\nnsyte bunker connect --pubkey &lt;pubkey&gt; --relay &lt;relay&gt; --secret &lt;secret&gt;\n</code></pre> <p>Options: - <code>--pubkey &lt;pubkey&gt;</code>: Bunker public key - <code>--relay &lt;relay&gt;</code>: Relay URL - <code>--secret &lt;secret&gt;</code>: Connection secret</p>"},{"location":"usage/commands/#nsyte-bunker-list","title":"<code>nsyte bunker list</code>","text":"<p>List all connected bunkers.</p> <pre><code>nsyte bunker list\n</code></pre>"},{"location":"usage/commands/#nsyte-bunker-import","title":"<code>nsyte bunker import</code>","text":"<p>Import a bunker connection from an nbunksec string.</p> <pre><code>nsyte bunker import &lt;nbunksec&gt;\n</code></pre>"},{"location":"usage/commands/#nsyte-bunker-export","title":"<code>nsyte bunker export</code>","text":"<p>Export a bunker connection as an nbunksec string.</p> <pre><code>nsyte bunker export &lt;pubkey&gt;\n</code></pre>"},{"location":"usage/commands/#nsyte-bunker-use","title":"<code>nsyte bunker use</code>","text":"<p>Configure the project to use a specific bunker.</p> <pre><code>nsyte bunker use &lt;pubkey&gt;\n</code></pre>"},{"location":"usage/commands/#nsyte-bunker-remove","title":"<code>nsyte bunker remove</code>","text":"<p>Remove a bunker connection.</p> <pre><code>nsyte bunker remove &lt;pubkey&gt;\n</code></pre>"},{"location":"usage/commands/#global-options","title":"Global Options","text":"<p>These options are available for all commands:</p> <ul> <li><code>--help</code>: Show help information</li> <li><code>--version</code>: Show version information</li> <li><code>--verbose</code>: Enable verbose output</li> <li><code>--quiet</code>: Suppress all output except errors</li> </ul>"},{"location":"usage/commands/#examples","title":"Examples","text":""},{"location":"usage/commands/#basic-upload","title":"Basic Upload","text":"<pre><code>nsyte upload ./dist\n</code></pre>"},{"location":"usage/commands/#upload-with-options","title":"Upload with Options","text":"<pre><code>nsyte upload ./dist --force --concurrency 8 --verbose\n</code></pre>"},{"location":"usage/commands/#connect-to-bunker","title":"Connect to Bunker","text":"<pre><code>nsyte bunker connect --pubkey npub1... --relay wss://relay.example --secret xxx\n</code></pre>"},{"location":"usage/commands/#list-files-in-json-format","title":"List Files in JSON Format","text":"<pre><code>nsyte ls --format json\n</code></pre>"},{"location":"usage/commands/#download-with-verbose-output","title":"Download with Verbose Output","text":"<pre><code>nsyte download ./backup --verbose\n</code></pre>"},{"location":"usage/commands/#exit-codes","title":"Exit Codes","text":"<ul> <li><code>0</code>: Success</li> <li><code>1</code>: General error</li> <li><code>2</code>: Configuration error</li> <li><code>3</code>: Authentication error</li> <li><code>4</code>: Network error</li> <li><code>5</code>: File system error</li> </ul>"},{"location":"usage/commands/#environment-variables","title":"Environment Variables","text":"<ul> <li><code>NSITE_CONFIG</code>: Path to configuration file (default: <code>.nsite/config.json</code>)</li> <li><code>NSITE_RELAYS</code>: Comma-separated list of relay URLs</li> <li><code>NSITE_SERVERS</code>: Comma-separated list of server URLs</li> <li><code>NSITE_BUNKER</code>: Bunker connection string</li> <li><code>NSITE_NBUNKSEC</code>: nbunksec string for authentication </li> </ul>"},{"location":"usage/configuration/","title":"Configuration","text":"<p>nsyte uses a configuration file to store your settings. This guide explains all available configuration options and how to use them.</p>"},{"location":"usage/configuration/#configuration-file","title":"Configuration File","text":"<p>The configuration is stored in <code>.nsite/config.json</code> in your project directory. This file is created when you run <code>nsyte init</code> and can be modified manually or through the CLI.</p>"},{"location":"usage/configuration/#basic-configuration","title":"Basic Configuration","text":"<p>Here's a basic configuration file with all available options:</p> <pre><code>{\n  \"bunkerPubkey\": \"abc123...\",\n  \"relays\": [\"wss://relay1\", \"wss://relay2\"],\n  \"servers\": [\"https://server1\", \"https://server2\"],\n  \"profile\": {\n    \"name\": \"My Site\",\n    \"about\": \"Description\"\n  },\n  \"publishServerList\": true,\n  \"publishRelayList\": true,\n  \"fallback\": \"/index.html\"\n}\n</code></pre>"},{"location":"usage/configuration/#configuration-options","title":"Configuration Options","text":""},{"location":"usage/configuration/#authentication","title":"Authentication","text":"<ul> <li><code>bunkerPubkey</code>: Your nostr bunker public key (if using NIP-46)</li> <li><code>privateKey</code>: Your nostr private key (if not using bunker)</li> </ul>"},{"location":"usage/configuration/#relays-and-servers","title":"Relays and Servers","text":"<ul> <li><code>relays</code>: Array of WebSocket URLs for nostr relays</li> <li><code>servers</code>: Array of HTTP(S) URLs for blossom servers</li> <li><code>publishServerList</code>: Whether to publish the server list (default: true)</li> <li><code>publishRelayList</code>: Whether to publish the relay list (default: true)</li> </ul>"},{"location":"usage/configuration/#profile","title":"Profile","text":"<ul> <li><code>profile.name</code>: Your site's name</li> <li><code>profile.about</code>: A description of your site</li> </ul>"},{"location":"usage/configuration/#routing","title":"Routing","text":"<ul> <li><code>fallback</code>: The HTML file to use for client-side routing (e.g., <code>/index.html</code> for SPAs)</li> </ul>"},{"location":"usage/configuration/#environment-variables","title":"Environment Variables","text":"<p>You can also configure nsyte using environment variables:</p> <ul> <li><code>NSITE_CONFIG</code>: Path to configuration file (default: <code>.nsite/config.json</code>)</li> <li><code>NSITE_RELAYS</code>: Comma-separated list of relay URLs</li> <li><code>NSITE_SERVERS</code>: Comma-separated list of server URLs</li> <li><code>NSITE_BUNKER</code>: Bunker connection string</li> <li><code>NSITE_NBUNKSEC</code>: nbunksec string for authentication</li> </ul>"},{"location":"usage/configuration/#ignoring-files","title":"Ignoring Files","text":"<p>Create a <code>.nsite-ignore</code> file in your project root to specify files and directories that should be excluded from uploads. This uses standard glob syntax:</p> <pre><code># Ignore build artifacts\ndist/\n*.log\n\n# Ignore specific config files\nsecrets.json\n</code></pre>"},{"location":"usage/configuration/#default-ignore-patterns","title":"Default Ignore Patterns","text":"<p>nsyte automatically ignores: - <code>.git/**</code> - <code>.DS_Store</code> - <code>node_modules/**</code> - <code>.nsite-ignore</code> - <code>.nsite/config.json</code> - <code>.vscode/**</code></p>"},{"location":"usage/configuration/#configuration-management","title":"Configuration Management","text":""},{"location":"usage/configuration/#viewing-configuration","title":"Viewing Configuration","text":"<p>To view your current configuration:</p> <pre><code>nsyte config show\n</code></pre>"},{"location":"usage/configuration/#updating-configuration","title":"Updating Configuration","text":"<p>You can update your configuration in several ways:</p> <ol> <li> <p>Using the CLI: <pre><code>nsyte config set relays wss://relay1,wss://relay2\n</code></pre></p> </li> <li> <p>Editing the file directly: <pre><code># Edit .nsite/config.json\n</code></pre></p> </li> <li> <p>Using environment variables: <pre><code>export NSITE_RELAYS=wss://relay1,wss://relay2\n</code></pre></p> </li> </ol>"},{"location":"usage/configuration/#best-practices","title":"Best Practices","text":"<ol> <li>Security</li> <li>Never commit <code>.nsite/config.json</code> to version control</li> <li>Use bunker authentication for better security</li> <li> <p>Rotate keys periodically</p> </li> <li> <p>Performance</p> </li> <li>Use multiple relays for redundancy</li> <li>Choose relays close to your users</li> <li> <p>Use CDN servers when possible</p> </li> <li> <p>Maintenance</p> </li> <li>Keep your configuration in version control (excluding sensitive data)</li> <li>Document your configuration choices</li> <li>Review and update regularly</li> </ol>"},{"location":"usage/configuration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"usage/configuration/#common-issues","title":"Common Issues","text":"<ol> <li>Configuration Not Found</li> <li>Run <code>nsyte init</code> to create the configuration</li> <li>Check file permissions</li> <li> <p>Verify the path in <code>NSITE_CONFIG</code></p> </li> <li> <p>Authentication Errors</p> </li> <li>Verify your keys</li> <li>Check bunker connection</li> <li> <p>Ensure proper permissions</p> </li> <li> <p>Upload Failures</p> </li> <li>Check relay connectivity</li> <li>Verify server URLs</li> <li>Review ignore patterns</li> </ol>"},{"location":"usage/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about deployment options</li> <li>Set up CI/CD integration</li> <li>Review security best practices </li> </ul>"},{"location":"usage/commands/bunker/","title":"bunker","text":"<p>Manage nostr bunker connections and nbunks (NIP-46 remote signing).</p>"},{"location":"usage/commands/bunker/#usage","title":"Usage","text":"<pre><code>nsyte bunker &lt;subcommand&gt; [options]\n</code></pre>"},{"location":"usage/commands/bunker/#subcommands","title":"Subcommands","text":"<ul> <li><code>connect [url]</code> \u2014 Connect to a bunker URL and store as nbunksec</li> <li><code>list</code> \u2014 List all stored bunkers in the system</li> <li><code>import [nbunksec]</code> \u2014 Import a bunker from an nbunksec string</li> <li><code>export [pubkey]</code> \u2014 Export a bunker as an nbunksec string</li> <li><code>use [pubkey]</code> \u2014 Configure current project to use a bunker</li> <li><code>remove [pubkey]</code> \u2014 Remove a bunker from storage</li> <li><code>help</code> \u2014 Show detailed help information</li> </ul>"},{"location":"usage/commands/bunker/#examples","title":"Examples","text":"<p>Connect to a bunker interactively: <pre><code>nsyte bunker connect\n</code></pre></p> <p>Connect to a bunker with a URL: <pre><code>nsyte bunker connect 'bunker://pubkey?relay=wss://relay.example&amp;secret=xxx'\n</code></pre></p> <p>List all bunkers: <pre><code>nsyte bunker list\n</code></pre></p> <p>Import a bunker from an nbunksec string: <pre><code>nsyte bunker import &lt;nbunksec&gt;\n</code></pre></p> <p>Export a bunker as an nbunksec string: <pre><code>nsyte bunker export &lt;pubkey&gt;\n</code></pre></p> <p>Use a bunker for the current project: <pre><code>nsyte bunker use &lt;pubkey&gt;\n</code></pre></p> <p>Remove a bunker from storage: <pre><code>nsyte bunker remove &lt;pubkey&gt;\n</code></pre></p>"},{"location":"usage/commands/ci/","title":"ci","text":"<p>Create an nbunksec string for CI/CD use (creates a new bunker connection).</p>"},{"location":"usage/commands/ci/#usage","title":"Usage","text":"<pre><code>nsyte ci [url]\n</code></pre> <ul> <li><code>[url]</code>: (Optional) Bunker URL to use for the connection</li> </ul>"},{"location":"usage/commands/ci/#description","title":"Description","text":"<p>This command creates a new bunker connection and outputs an <code>nbunksec</code> string, which can be used as a secret in CI/CD pipelines for automated deployments.</p>"},{"location":"usage/commands/ci/#example","title":"Example","text":"<p>Create a new nbunksec string interactively: <pre><code>nsyte ci\n</code></pre></p> <p>Create a new nbunksec string using a specific bunker URL: <pre><code>nsyte ci bunker://pubkey?relay=wss://relay.example&amp;secret=xxx\n</code></pre></p>"},{"location":"usage/commands/download/","title":"download","text":"<p>Download files from the nostr network for a given public key.</p>"},{"location":"usage/commands/download/#usage","title":"Usage","text":"<pre><code>nsyte download [options]\n</code></pre>"},{"location":"usage/commands/download/#options","title":"Options","text":"<ul> <li><code>-r, --relays &lt;relays&gt;</code> \u2014 The nostr relays to use (comma separated)</li> <li><code>-k, --privatekey &lt;nsec&gt;</code> \u2014 The private key (nsec/hex) to use for signing</li> <li><code>-b, --bunker &lt;url&gt;</code> \u2014 The NIP-46 bunker URL to use for signing</li> <li><code>-p, --pubkey &lt;npub&gt;</code> \u2014 The public key to download files from (if not using private key)</li> <li><code>-o, --output &lt;dir&gt;</code> \u2014 The output directory to save files to (required)</li> </ul>"},{"location":"usage/commands/download/#examples","title":"Examples","text":"<p>Download files to the <code>backup</code> directory: <pre><code>nsyte download --output backup\n</code></pre></p> <p>Download files for a specific public key: <pre><code>nsyte download --pubkey npub1... --output backup\n</code></pre></p> <p>Download files using a private key and custom relays: <pre><code>nsyte download --privatekey nsec1... --relays wss://relay.example --output backup\n</code></pre></p>"},{"location":"usage/commands/init/","title":"init","text":"<p>Initialize a new nsyte site in the current directory.</p>"},{"location":"usage/commands/init/#description","title":"Description","text":"<p>The <code>init</code> command creates a new nsyte site by: 1. Creating the <code>.nsite</code> directory 2. Generating a default configuration file 3. Setting up initial project structure</p>"},{"location":"usage/commands/init/#usage","title":"Usage","text":"<pre><code>nsyte init [options]\n</code></pre>"},{"location":"usage/commands/init/#options","title":"Options","text":"<ul> <li><code>--force</code>: Overwrite existing configuration</li> <li><code>--template</code>: Use a specific template</li> <li><code>--no-git</code>: Skip git initialization</li> </ul>"},{"location":"usage/commands/init/#examples","title":"Examples","text":"<p>Basic initialization: <pre><code>nsyte init\n</code></pre></p> <p>Force initialization: <pre><code>nsyte init --force\n</code></pre></p> <p>Use template: <pre><code>nsyte init --template=blog\n</code></pre></p>"},{"location":"usage/commands/init/#configuration","title":"Configuration","text":"<p>The initialization process creates a <code>.nsite/config.json</code> file with default settings:</p> <pre><code>{\n  \"bunkerPubkey\": \"\",\n  \"relays\": [],\n  \"servers\": [],\n  \"profile\": {\n    \"name\": \"\",\n    \"about\": \"\"\n  }\n}\n</code></pre>"},{"location":"usage/commands/init/#project-structure","title":"Project Structure","text":"<p>After initialization, your project will have this structure:</p> <pre><code>.\n\u251c\u2500\u2500 .nsite/\n\u2502   \u2514\u2500\u2500 config.json\n\u251c\u2500\u2500 .nsite-ignore\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"usage/commands/init/#next-steps","title":"Next Steps","text":"<p>After initialization: 1. Configure your relays and servers 2. Set up your authentication 3. Start building your site </p>"},{"location":"usage/commands/ls/","title":"ls","text":"<p>List files available on the nostr network for a given public key.</p>"},{"location":"usage/commands/ls/#usage","title":"Usage","text":"<pre><code>nsyte ls [options]\n</code></pre>"},{"location":"usage/commands/ls/#options","title":"Options","text":"<ul> <li><code>-r, --relays &lt;relays&gt;</code> \u2014 The nostr relays to use (comma separated)</li> <li><code>-k, --privatekey &lt;nsec&gt;</code> \u2014 The private key (nsec/hex) to use for signing</li> <li><code>-p, --pubkey &lt;npub&gt;</code> \u2014 The public key to list files for (if not using private key)</li> </ul>"},{"location":"usage/commands/ls/#examples","title":"Examples","text":"<p>List files using project config: <pre><code>nsyte ls\n</code></pre></p> <p>List files for a specific public key: <pre><code>nsyte ls --pubkey npub1... --relays wss://relay.example\n</code></pre></p> <p>List files using a private key: <pre><code>nsyte ls --privatekey nsec1...\n</code></pre></p>"},{"location":"usage/commands/upload/","title":"upload","text":"<p>Upload files from a directory to configured relays and blossom servers.</p>"},{"location":"usage/commands/upload/#usage","title":"Usage","text":"<pre><code>nsyte upload &lt;folder&gt; [options]\n</code></pre> <ul> <li><code>&lt;folder&gt;</code>: The directory to upload (required)</li> </ul>"},{"location":"usage/commands/upload/#options","title":"Options","text":"<ul> <li><code>-f, --force</code> \u2014 Force publishing even if no changes were detected (default: false)</li> <li><code>-s, --servers &lt;servers&gt;</code> \u2014 The blossom servers to use (comma separated)</li> <li><code>-r, --relays &lt;relays&gt;</code> \u2014 The nostr relays to use (comma separated)</li> <li><code>-k, --privatekey &lt;nsec&gt;</code> \u2014 The private key (nsec/hex) to use for signing</li> <li><code>-b, --bunker &lt;url&gt;</code> \u2014 The NIP-46 bunker URL to use for signing</li> <li><code>--nbunksec &lt;nbunksec&gt;</code> \u2014 The NIP-46 bunker encoded as nbunksec</li> <li><code>-p, --purge</code> \u2014 Delete online file events that are not used anymore (default: false)</li> <li><code>-v, --verbose</code> \u2014 Verbose output (default: false)</li> <li><code>-c, --concurrency &lt;number&gt;</code> \u2014 Number of parallel uploads (default: 4)</li> <li><code>--publish-server-list</code> \u2014 Publish the list of blossom servers (Kind 10063) (default: false)</li> <li><code>--publish-relay-list</code> \u2014 Publish the list of nostr relays (Kind 10002) (default: false)</li> <li><code>--publish-profile</code> \u2014 Publish the app profile for the npub (Kind 0) (default: false)</li> <li><code>--fallback &lt;file&gt;</code> \u2014 An HTML file to copy and publish as 404.html</li> <li><code>-i, --non-interactive</code> \u2014 Run in non-interactive mode (default: false)</li> </ul>"},{"location":"usage/commands/upload/#examples","title":"Examples","text":"<p>Upload the <code>dist</code> directory: <pre><code>nsyte upload dist\n</code></pre></p> <p>Upload with custom relays and servers: <pre><code>nsyte upload dist --relays wss://relay.example --servers https://server.example\n</code></pre></p> <p>Force upload and purge deleted files: <pre><code>nsyte upload dist --force --purge\n</code></pre></p> <p>Publish profile and relay/server lists: <pre><code>nsyte upload dist --publish-profile --publish-relay-list --publish-server-list\n</code></pre></p>"},{"location":"usage/commands/upload/#next-steps","title":"Next Steps","text":"<ul> <li>Check deployment status</li> <li>Configure relays and servers </li> </ul>"}]}